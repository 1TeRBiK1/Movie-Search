(this["webpackJsonpmovie-search"]=this["webpackJsonpmovie-search"]||[]).push([[0],{10:function(e,t,c){},12:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c(5),a=c.n(r),s=(c(10),c(2)),i=c(4),o=c(0);function u(e){var t=e.searchMovies,c=e.errorSearch,r=Object(n.useState)("Avengers"),a=Object(s.a)(r,2),u=a[0],j=a[1],l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=Object(n.useState)(e),c=Object(s.a)(t,2),r=c[0],a=c[1];return{default:{value:r,onChange:function(e){return a(e.target.value)},placeholder:"Search...",type:"search",autoComplete:"off",className:"search"},value:function(){return r},clear:function(){return a("")}}}(),b=Object(n.useRef)(null);return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("h2",{className:"movieSearch",children:"Movie Search"}),Object(o.jsxs)("div",{className:"header",children:[Object(o.jsx)("form",{onSubmit:function(e){e.preventDefault(),b.current.blur(),l.value().trim()&&(t(l.value()),j(l.value()),l.clear())},children:Object(o.jsx)("input",Object(i.a)(Object(i.a)({},l.default),{},{ref:b}))}),Object(o.jsxs)("span",{className:"result",children:[c?"Not found for ":"Results for "," ",u]})]})]})}function j(e){return e>=7.5?"green":e>=5.5?"orange":"red"}function l(e){var t=e.info,c=function(e){var t=Object(n.useState)(""),c=Object(s.a)(t,2),r=c[0],a=c[1];return Object(n.useEffect)((function(){fetch("https://www.omdbapi.com/?i=".concat(e,"&apikey=912e5ad3")).then((function(e){return e.json()})).then((function(e){console.log(e),a(e.imdbRating)})).catch((function(e){return console.log(e)}))}),[]),r}(t.imdbID);return Object(o.jsx)("div",{className:"containerFilm",children:Object(o.jsxs)("div",{className:"movie",children:[Object(o.jsx)("img",{src:t.Poster,className:"poster"}),Object(o.jsxs)("div",{className:"movieInfo",children:[Object(o.jsx)("span",{className:"titleMovie",children:Object(o.jsx)("a",{href:"https://www.imdb.com/title/".concat(t.imdbID),target:"_blank",children:t.Title})}),Object(o.jsx)("span",{className:"rating ".concat(j(c)),children:c})]})]})})}function b(e){var t=e.movies;return Object(o.jsx)("div",{className:"containerMovies",children:t.map((function(e){return Object(o.jsx)(l,{info:e},e.imdbID)}))})}var h=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),c=t[0],r=t[1],a=Object(n.useState)(!1),i=Object(s.a)(a,2),j=i[0],l=i[1];function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Avengers";fetch("https://www.omdbapi.com/?s=".concat(e,"&page=1&apikey=25be5195")).then((function(e){return e.json()})).then((function(e){"True"!==e.Response?l(!0):(l(!1),r(e.Search))}))}return Object(n.useEffect)((function(){return h()}),[]),Object(o.jsxs)("div",{className:"App",children:[Object(o.jsx)(u,{searchMovies:h,errorSearch:j}),j?Object(o.jsx)("div",{}):Object(o.jsx)(b,{movies:c})]})};a.a.render(Object(o.jsx)(h,{}),document.getElementById("root"))}},[[12,1,2]]]);
//# sourceMappingURL=main.c50e3826.chunk.js.map